Agora a prÃ¡tica

ğŸš€ Se liga nesse foguete!

Os exercÃ­cios destacados com ğŸš€ sÃ£o os fundamentais pra vocÃª ir bem no projeto! Todos os exercÃ­cios vÃ£o contribuir com sua formaÃ§Ã£o mas fique de olho nesses! ğŸ‘€

Pronto, agora jÃ¡ podemos â€œdockerizarâ€ todas as nossa aplicaÃ§Ãµes e, nÃ£o sÃ³ isso, podemos â€œdockerizarâ€ nossos ambientes inteiro, tanto aplicaÃ§Ãµes, quanto bancos de dados e outras tecnologias, assim como suas comunicaÃ§Ãµes e configuraÃ§Ãµes.

Bora praticar!


ğŸš€ ExercÃ­cio 1:

Vamos aprimorar nossos conhecimentos sobre images e volumes, para isso:

Crie um arquivo HTML chamado missao_trybe.html que tenha a seguinte estrutura:

Tag <title> com o seguinte texto â€œTrybeâ€;

Tag <H1> com o seguinte texto â€œMissÃ£o da Trybeâ€;

Tag <p> com o seguinte texto â€œGerar oportunidade para pessoasâ€;

Salve o arquivo em qualquer lugar da sua mÃ¡quina com a extensÃ£o html

Crie um container para manter um servidor httpd:2.4 Apache e vincule sua porta interna com a porta 4545 da sua mÃ¡quina local.

ApÃ³s criar o container acesse a pÃ¡gina HTML que estÃ¡ rodando no servidor em seu browser.

Acesse o arquivo missao_trybe.html e acrescente a tag <p> com o seguinte texto â€œNosso negÃ³cio Ã© GENTE! #VQVâ€;

Obtenha o id do container httpd:2.4;

Obtenha o Mounts atravÃ©s da propriedade Source que deve mostrar o volume desse container no Docker Host;

Agora pare o container httpd:2.4;

Exclua o seu container;

Verifique se a pasta onde vocÃª salvo o arquivo html permanece no mesmo lugar;

Obtenha o IMAGE ID do servidor;

Depois de obter o IMAGE ID, exclua a imagem.


ğŸš€ ExercÃ­cio 2:

Crie o arquivo Compose para subir um ghost blog, essa plataforma Ã© similar com o Wordpress e Ã© utilizada para criar sites de conteÃºdo. VocÃª pode ler no site oficial como criar conteÃºdos nele e utilizÃ¡-lo. Para esse exercÃ­cio, utilizaremos apenas sua pÃ¡gina de exemplo:

Utilize a versÃ£o â€œ3â€ no arquivo;
Crie um service para subir a plataforma, utilize a imagem ghost:1-alpine;
Publique a porta 2368, fazendo bind tambÃ©m para a 2368;
Suba a aplicaÃ§Ã£o utilizando o docker-compose e entÃ£o acesse a porta publicada para validar se deu tudo certo.

ğŸš€ ExercÃ­cio 3:

Por padrÃ£o o ghost utiliza um banco de dados sqlite interno para salvar as informaÃ§Ãµes, porÃ©m, vamos alterar esse comportamento para exercitar nossos conhecimentos:

Crie um novo serviÃ§o db para o nosso banco de dados:

Podemos utilizar o banco de dados MySQL, utilize a imagem mysql:5.7;
Precisamos definir uma senha root para o banco, para isso utilize a variÃ¡vel de ambiente MYSQL_ROOT_PASSWORD
Agora precisamos configurar nosso serviÃ§o ghost para utilizar o banco de dados:

Defina o tipo de banco de dados a ser usado pelo ghost definindo a variÃ¡vel de ambiente database__client para mysql;
Defina o serviÃ§o db como servidor do banco de dados na variÃ¡vel de ambiente database__connection__host;
Defina as credenciais para a conexÃ£o com o banco de dados
Para definir a pessoa usuÃ¡ria (root), utilize a variÃ¡vel de ambiente database__connection__user
Para definir a senha (a mesma que definimos no nosso serviÃ§o db), utilize a variÃ¡vel de ambiente database__connection__password
Defina o nome ghost para o nome do database no banco de dados utilizando a variÃ¡vel de ambiente database__connection__database;
Utilize a opÃ§Ã£o depends_on para criar relaÃ§Ãµes de dependÃªncias entre os serviÃ§os.
Suba o ambiente com o novo arquivo usando o docker-compose e entÃ£o acesse a porta.

ExercÃ­cio 4:

Agora vamos praticar os conceitos de volumes e networks.

Configure o nosso serviÃ§o mysql para utilizar um volume, conforme vimos no conteÃºdo, utilize o caminho target /var/lib/mysql.
Ao invÃ©s de utilizar a rede padrÃ£o criada pelo Compose, defina uma rede chamada my-network para a comunicaÃ§Ã£o dos dois serviÃ§os.
Suba o ambiente com o novo arquivo usando o docker-compose e entÃ£o acesse-o.

ExercÃ­cio 5:

Agora vamos criar um novo arquivo Compose, para rodarmos uma aplicaÃ§Ã£o React, conforme vimos alguns exemplos do conteÃºdo:

Inicie um novo projeto ReactJS utilizando o create-react-app;
Crie o Dockerfile, conforme vimos na aula passada;
Crie um novo arquivo Compose utilizando a versÃ£o 3;
Defina um serviÃ§o no arquivo para nosso app, para isso utilize a opÃ§Ã£o build para apontar para o Dockerfile;
Publique a porta exposta no Dockerfile fazendo bind para a porta 8080 do localhost;

ExercÃ­cio 6:

Para simularmos o processo de desenvolvimento, faÃ§a a alteraÃ§Ã£o em alguma 
parte do cÃ³digo do app react, e entÃ£o execute o comando para subir o serviÃ§o novamente, 
â€œrebuildandoâ€ a imagem para aplicar as alteraÃ§Ãµes.